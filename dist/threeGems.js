!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t){t.exports=JSON.parse('{"height":32,"infinite":false,"layers":[{"data":[60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60],"height":32,"id":16,"name":"background","opacity":1,"type":"tilelayer","visible":true,"width":32,"x":0,"y":0},{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,117,37,37,37,37,37,37,37,37,37,37,37,37,117,117,117,117,117,117,117,117,117,117],"height":32,"id":12,"name":"ground","opacity":1,"type":"tilelayer","visible":false,"width":32,"x":0,"y":0},{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,178,178,178,178,178,178,178,178,178,178,178,0,0,0,0,0,0,0,0,0,0,0,0,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,178,0,0,0,0,0,0,0,0,0,0,0,0,178,178,178,178,178,178,178,178,178,178],"height":32,"id":13,"name":"obstacles","opacity":1,"type":"tilelayer","visible":false,"width":32,"x":0,"y":0},{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,441,441,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,441,441,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,441,441,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"height":32,"id":3,"name":"items","opacity":1,"type":"tilelayer","visible":true,"width":32,"x":0,"y":0},{"draworder":"topdown","id":4,"name":"objects","objects":[{"height":48,"id":3,"name":"player","rotation":0,"type":"controllable","visible":true,"width":32,"x":240,"y":224}],"opacity":1,"type":"objectgroup","visible":true,"x":0,"y":0},{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,58,58,58,58,58,58,58,58,58,58,58,0,0,0,0,0,0,0,0,0,0,0,0,58,58,58,58,58,58,58,58,58,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"height":32,"id":14,"name":"wallTop","opacity":1,"type":"tilelayer","visible":false,"width":32,"x":0,"y":0}],"nextlayerid":17,"nextobjectid":5,"orientation":"orthogonal","renderorder":"right-down","tiledversion":"1.2.4","tileheight":16,"tilesets":[{"firstgid":1,"source":"fantasy.tsx"},{"firstgid":145,"source":"dungeon.tsx"}],"tilewidth":16,"type":"map","version":1.2,"width":32}')},function(t,e,i){"use strict";i.r(e);var n={};function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.r(n),i.d(n,"EmptySprite",function(){return w}),i.d(n,"CastleHallGroundSprite",function(){return k}),i.d(n,"CastleHallWallSprite",function(){return S}),i.d(n,"CastleHallExitSprite",function(){return C}),i.d(n,"CastleHallWallTopSprite",function(){return x}),i.d(n,"PlaceholderSprite",function(){return D}),i.d(n,"CastleHallBackgroundSprite",function(){return O}),i.d(n,"CastleHallKingSprite",function(){return j}),i.d(n,"PlayerSprite",function(){return E});var a=500,o=500,l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.width,n=void 0===i?a:i,r=e.height,l=void 0===r?o:r,c=e.container,u=void 0===c?document.createElement("div"):c,s=e.key,h=void 0===s?"canvasLayer":s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=u,this.key=h,this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this._canvas.style.position="absolute",this._canvas.setAttribute("data-key",this.key),this.container.appendChild(this._canvas),this.setSize(n,l)}var e,i,n;return e=t,(i=[{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;this._canvas.offsetWidth===t&&this._canvas.offsetHeight===e||(this._canvas.style.offsetWidth=t+"px",this._canvas.style.offsetHeight=e+"px"),this._canvas.width=t,this._canvas.height=e}},{key:"drawRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.x,i=void 0===e?0:e,n=t.y,r=void 0===n?0:n,a=t.width,o=void 0===a?20:a,l=t.height,c=void 0===l?20:l,u=t.shouldFill,s=void 0===u||u,h=t.shouldStroke,d=void 0!==h&&h,p=t.backgroundColor,f=void 0===p?"red":p,y=t.borderColor,v=void 0===y?"black":y,g=t.opacity,m=void 0===g?1:g,b=this._ctx;b.save(),b.globalAlpha=m,b.fillStyle=f,b.strokeStyle=v,b.beginPath(),b.rect(i,r,o,c),s&&b.fill(),d&&b.stroke(),b.restore()}}])&&r(e.prototype,i),n&&r(e,n),t}();function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=50,s=50,h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.x,n=void 0===i?0:i,r=e.y,a=void 0===r?0:r,o=e.width,l=void 0===o?u:o,c=e.height,h=void 0===c?s:c,d=e.backgroundColor,p=void 0===d?"red":d,f=e.type,y=void 0===f?"sprite":f,v=e.name,g=void 0===v?"":v;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.assign(this,{x:n,y:a,width:l,height:h,backgroundColor:p,type:y,name:g,hitArea:{}}),this.setHitArea()}var e,i,n;return e=t,(i=[{key:"setHitArea",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.localX,i=void 0===e?0:e,n=t.localY,r=void 0===n?0:n,a=t.localWidth,o=void 0===a?this.width:a,l=t.localHeight,c=void 0===l?this.height:l;Object.assign(this.hitArea,{localX:i,localY:r,localWidth:o,localHeight:c})}},{key:"update",value:function(t){}},{key:"render",value:function(t){t.drawRect({x:this.x,y:this.y,width:this.width,height:this.height,shouldFill:!0,shouldStroke:!1,backgroundColor:this.backgroundColor}),localStorage.getItem("GAME_DEBUG_MODE")&&t.drawRect({x:this.x+this.hitArea.localX,y:this.y+this.hitArea.localY,width:this.hitArea.localWidth,height:this.hitArea.localHeight,shouldFill:!1,shouldStroke:!0,borderColor:"red"})}}])&&c(e.prototype,i),n&&c(e,n),t}(),d={red:["#F5BEBE","#E86767","#DB1111","#8C0B0B","#3C0505"],blue:["#D1EDF5","#AFDFEE","#82CEE5","#538492","#24393F"],green:["#D7EBD3","#B9DCB2","#91C987","#5DB056","#283725"],brown:["#DAC1AD","#B6845C","#8D501D","#553011","#2B1809"],gunmetal:["#C3C8C9","#738082","#374A4D","#1D2E32","#0D1516"]};function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function v(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,e),t.opacity=0,v(this,g(e).call(this,t))}var i,n,r;return m(e,h),i=e,(n=[{key:"render",value:function(){}}])&&y(i.prototype,n),r&&y(i,r),e}(),k=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,e),t.backgroundColor=t.backgroundColor||d.gunmetal[3],v(this,g(e).call(this,t))}return m(e,h),e}(),S=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,e),i.backgroundColor=i.backgroundColor||d.brown[3],(t=v(this,g(e).call(this,i))).name="wall",t}return m(e,h),e}(),C=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,e),t.backgroundColor=t.backgroundColor||d.green[3],v(this,g(e).call(this,t))}return m(e,h),e}(),x=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,e),t.backgroundColor=t.backgroundColor||d.brown[1],v(this,g(e).call(this,t))}return m(e,h),e}(),D=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,e),t.backgroundColor=t.backgroundColor||d.gunmetal[0],v(this,g(e).call(this,t))}return m(e,h),e}(),O=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,e),t.backgroundColor=t.backgroundColor||d.gunmetal[4],t.opacity=t.opacity||0,v(this,g(e).call(this,t))}return m(e,h),e}(),j=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,e),i.backgroundColor=i.backgroundColor||d.blue[2],(t=v(this,g(e).call(this,i))).name="king",t}return m(e,h),e}(),E=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,e),i.backgroundColor=i.backgroundColor||d.brown[0],(t=v(this,g(e).call(this,i))).setHitArea({localX:0,localY:t.height/2,localWidth:t.width,localHeight:t.height/2}),t.vx=0,t.vy=0,t.vMax=20,t}return m(e,h),e}();function M(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var _=32,A=32,P=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.assign(this,{colIndex:0,rowIndex:0,colNum:_,rowNum:A,children:[],parent:null,type:"group"},e)}var e,i,n;return e=t,(i=[{key:"add",value:function(t){this.children.push(t),t.parent=this}},{key:"render",value:function(){var t=this;this.children.forEach(function(e){return e.render(t.renderer)})}},{key:"update",value:function(t){this.children.forEach(function(e){return e.update(t)})}},{key:"getSpriteByName",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.getSprite("name",t)}},{key:"getSpritesByName",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.getSprites("name",t)}},{key:"getSprite",value:function(e,i){for(var n,r=0;r<this.children.length;r++){var a=this.children[r];if(a instanceof t?n=a.getSprite(e,i):"sprite"===a.type&&a[e]===i&&(n=a),n)return n}return null}},{key:"getSprites",value:function(e,i){for(var n=[],r=0;r<this.children.length;r++){var a=this.children[r];a instanceof t?n=n.concat(a.getSprites(e,i)):"sprite"===a.type&&a[e]===i&&n.push(a)}return n}},{key:"renderer",get:function(){for(var t=this._renderer;!t&&this.parent;)t=this.parent.renderer;return t},set:function(t){this._renderer=t}}])&&M(e.prototype,i),n&&M(e,n),t}();function H(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var G=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.game,n=e.key;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.assign(this,{game:i,key:n,flag:{finished:!1,initState:!1}})}var e,i,n;return e=t,(i=[{key:"play",value:function(t){var e=this;if(this.flag.finished)return!0;this.flag.initState?this.update(t):(this.initMapGroup(),this.flag.initState=!0),this.flag.layerDirtyArr.forEach(function(t,i){t&&e.mapGroup.children[i].render()})}},{key:"terminate",value:function(){this.flag.finished=!0}},{key:"createMapData",value:function(){this.mapData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return{tileSpriteMap:{60:"PlaceholderSprite"},tileWidthScale:1,tileHeightScale:1,height:e,infinite:!1,layers:[{data:[60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60],height:e,id:16,name:"background",opacity:1,type:"tilelayer",visible:!0,width:t,x:0,y:0}],nextlayerid:17,nextobjectid:5,orientation:"orthogonal",renderorder:"right-down",tiledversion:"1.2.4",tileheight:arguments.length>3&&void 0!==arguments[3]?arguments[3]:16,tilesets:[{firstgid:1,source:"fantasy.tsx"}],tilewidth:i,type:"map",version:1.2,width:t}}(this.game.colNum,this.game.rowNum,this.game.width,this.game.height)}},{key:"initMapGroup",value:function(){var t=this;this.createMapData(),this.mapGroup=new P({colNum:this.mapData.width,rowNum:this.mapData.height,width:this.game.width,height:this.game.height,tileWidthScale:this.mapData.tileWidthScale,tileHeightScale:this.mapData.tileHeightScale,tileSpriteMap:this.mapData.tileSpriteMap,objectSpriteMap:this.mapData.objectSpriteMap,layers:this.mapData.layers,renderer:this.game.layerMap.main,type:"map"}),this.mapGroup.layers.forEach(function(e){var i=new P({colNum:t.mapGroup.colNum,rowNum:t.mapGroup.rowNum,width:t.mapGroup.width,height:t.mapGroup.height,type:"layer"}),n=i.width/i.colNum,r=i.height/i.rowNum;switch(e.type){case"tilelayer":e.data.forEach(function(e,a){i.add(t.game.createSprite(t.mapGroup.tileSpriteMap[e],{x:a%i.colNum*n,y:Math.floor(a/i.colNum)*r,width:n,height:r}))});break;case"objectgroup":e.objects.forEach(function(e){i.add(t.game.createSprite(t.mapGroup.objectSpriteMap[e.id],{x:e.x*t.mapGroup.tileWidthScale,y:e.y*t.mapGroup.tileHeightScale,width:e.width*t.mapGroup.tileWidthScale,height:e.height*t.mapGroup.tileHeightScale,name:e.name}))})}t.mapGroup.add(i)}),this.flag.layerDirtyArr=this.mapGroup.layers.map(function(){return!0})}},{key:"update",value:function(t){}}])&&H(e.prototype,i),n&&H(e,n),t}();function N(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var T=480,B=480,W=32,I=32,R="fit",X="#000",Y=60,L=(new l,function(){function t(e){var i=e.width,n=void 0===i?T:i,r=e.height,a=void 0===r?B:r,o=e.colNum,l=void 0===o?W:o,c=e.rowNum,u=void 0===c?I:c,s=e.scaleMode,h=void 0===s?R:s,d=e.backgroundColor,p=void 0===d?X:d,f=e.fps,y=void 0===f?Y:f,v=e.container,g=void 0===v?document.createElement("div"):v;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.assign(this,{width:n,height:a,colNum:l,rowNum:u,scaleMode:h,backgroundColor:p,sprites:[],container:g,flag:{},incidentPlays:[],incidentMap:{},layerMap:{},keyMap:{},loop:t.createGameLoop(y)})}var e,i,r;return e=t,r=[{key:"createGameLoop",value:function(t){var e={fps:t,callbacks:[],isPaused:!0,timeoutId:null,add:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];Array.prototype.push.apply(e.callbacks,i)},remove:function(t){var i=e.callbacks.indexOf(t);i>=0&&e.callbacks.splice(i,1)},removeAll:function(){e.callbacks=[]},run:function(){e.timeoutId=window.requestAnimationFrame(e.run);var i=Date.now(),n=e.lastRun;if(e.lastRun=i,!e.isPaused){var r=i-n;r>=1e3/t&&e.callbacks.forEach(function(t){return t(r)})}},start:function(){e.isPaused=!1},stop:function(){e.isPaused=!0,e.lastRun=null}};return e.run(),e.lastRun=Date.now(),e}},{key:"createKeyInteraction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e={keyCodes:t,pressStartTime:null,pressDuration:0,isDown:!1,isUp:!0};return document.addEventListener("keydown",function(t){if(-1!==e.keyCodes.indexOf(t.keyCode)){e.isDown=!0,e.isUp=!1;var i=Date.now();e.pressStartTime?e.pressDuration=i-e.pressStartTime:e.pressStartTime=i,t.preventDefault()}}),document.addEventListener("keyup",function(t){-1!==e.keyCodes.indexOf(t.keyCode)&&(e.isDown=!1,e.isUp=!0,e.pressStartTime=null,e.pressDuration=0,t.preventDefault())}),e}},{key:"hitTestPoint",value:function(t,e){var i=t.x,n=void 0===i?0:i,r=t.y,a=void 0===r?0:r;return n>=e.x+e.hitArea.localX&&n<=e.x+e.hitArea.localX+e.hitArea.localWidth&&a>=e.y+e.hitArea.localY&&a<=e.y+e.hitArea.localY+e.hitArea.localHeight}},{key:"hitTestRect",value:function(t,e){var i=t.hitArea,n=e.hitArea,r=t.x+i.localX<=e.x+n.localX&&t.x+i.localX+i.localWidth>=e.x+n.localX||e.x+n.localX<=t.x+i.localX&&e.x+n.localX+n.localWidth>=t.x+i.localX,a=t.y+i.localY<=e.y+n.localY&&t.y+i.localY+i.localHeight>=e.y+n.localY||e.y+n.localY<=t.y+i.localY&&e.y+n.localY+n.localHeight>=t.y+i.localY;return r&&a}},{key:"hitTestRects",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)||(e=[e]),Array.isArray(i)||(i=[i]),e.some(function(e){return i.some(function(i){return t.hitTestRect(e,i)})})}}],(i=[{key:"loadSprites",value:function(){this.spriteClassMap=n}},{key:"loadSounds",value:function(){}},{key:"addInteractionKey",value:function(t,e){this.keyMap[t]=e}},{key:"addLayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"layer",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.width,n=void 0===i?this.width:i,r=e.height,a=void 0===r?this.height:r,o=e.renderer,c=void 0===o?new l({width:n,height:a,container:this.container,key:t}):o;this.layerMap[t]=c}},{key:"addIncident",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now().toString(),i=new t({key:e,game:this});this.incidentMap[e]={timeStamp:Date.now(),incident:i},this.incidentPlays.push(i.play.bind(i))}},{key:"createSprite",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new this.spriteClassMap[t](e)}}])&&N(e.prototype,i),r&&N(e,r),t}()),K=i(0);function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function z(t,e){return!e||"object"!==F(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function J(t,e){return(J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Q=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),z(this,q(e).call(this,t))}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(e,G),i=e,(n=[{key:"createMapData",value:function(){this.mapData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tileWidth,i=void 0===e?K.tilewidth:e,n=t.tileHeight,r=void 0===n?K.tileheight:n;return Object.assign(K,{tileSpriteMap:{0:"EmptySprite",60:"CastleHallBackgroundSprite",37:"CastleHallExitSprite",117:"CastleHallGroundSprite",178:"CastleHallWallSprite",58:"CastleHallWallTopSprite",441:"CastleHallKingSprite"},objectSpriteMap:{3:"PlayerSprite"},tileWidthScale:i/K.tilewidth,tileHeightScale:r/K.tileheight}),K}({tileWidth:this.game.width/this.game.colNum,tileHeight:this.game.height/this.game.rowNum})}},{key:"update",value:function(t){var e=this.mapGroup.getSpriteByName("player"),i=this.mapGroup.getSpriteByName("king"),n=this.mapGroup.getSpritesByName("wall"),r=this.game.keyMap.up,a=this.game.keyMap.down;this.game.keyMap.left,this.game.keyMap.right,r.isDown&&(e.y+=e.vy,e.vy=-e.vMax),a.isDown&&(e.y+=e.vy,e.vy=e.vMax),this.game.keyMap.left.isDown&&(e.x-=.15*t),this.game.keyMap.right.isDown&&(e.x+=.15*t),L.hitTestRect(e,i)&&console.log("hit king"),L.hitTestRects(e,n)&&(e.y-=e.vy,e.vy=0)}}])&&U(i.prototype,n),r&&U(i,r),e}(),V=new L({container:document.getElementById("root"),width:640,height:640});V.loop.add(function(t){return V.flag.isLoadAssets?V.flag.hasBuiltLayers?V.flag.isPlayDirty?!!V.flag.isGameOver&&void 0:(V.flag.isPlayDirty=V.incidentPlays.reduce(function(e,i){return("boolean"==typeof e?e:e(t))&&i(t)},!0),!1):(V.addLayer("background"),V.addLayer("main"),V.addLayer("foreground"),V.flag.hasBuiltLayers=!0,!1):(V.loadSprites(),V.loadSounds(),V.flag.isLoadAssets=!0,!1)}),V.loop.start(),V.addInteractionKey("up",L.createKeyInteraction([87,38])),V.addInteractionKey("down",L.createKeyInteraction([83,40])),V.addInteractionKey("left",L.createKeyInteraction([65,37])),V.addInteractionKey("right",L.createKeyInteraction([68,39])),V.addIncident(Q,"CastleHallBeginIncident")}]);