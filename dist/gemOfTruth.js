!function(t){zzfx_v=.5,zzfx_x=new AudioContext,zzfx=(t,n,e,o=1,r=.1,a=0,s=0,c=0,f=0)=>{let i=44100,u=Math.PI;e*=2*u/i,e*=1+n*(2*Math.random()-1),a*=1e3*u/i**2,r*=0|(o=0<o?i*(10<o?10:o)|0:1),c*=2*u/i,f*=u,n=[];for(var l=0,h=0,d=0;d<o;++d)n[d]=.5*t*Math.cos(l*e*Math.cos(h*c+f))*(d<r?d/r:1-(d-r)/(o-r)),l+=1+s*(2*Math.random()-1),h+=1+s*(2*Math.random()-1),e+=a;return t=zzfx_x.createBuffer(1,o,i),e=zzfx_x.createBufferSource(),t.getChannelData(0).set(n),e.buffer=t,e.connect(zzfx_x.destination),e.start(),e};const[n,e,o]=[0,1,2];const r=function(t){const o=[t,()=>(o[n]=16807*o[n]%2147483647,o[n]),()=>(o[e]()-1)/2147483646];return o[n]<=0&&(o[n]+=2147483646),o}(Math.floor(Date.now()/1e3/60/5));var a;function s(t){const n=(t[Nt]-t[Qt][nn])/2,e=(t[Vt]-t[Qt][en])/2;t[Jt]=t[Qt][Zt]-n,t[Kt]=t[Qt][tn]-e}function c(t=[]){const n=Mo([[],null,[],null,-1,!1,0,m],t);return n[Yt]=i.bind(null,n),d(n[Ct][O],n[Yt]),n}function f(t,n){n?setTimeout(()=>{l(t)},1500):function(t){t[I]=!0}(t[Ct])}function i(t,n){let e=t[Ot][t[Gt]];u(t);const o=t[Ct][C],r=o[Nt],a=o[Vt],s=t[Ct],c=s[S],f=s[G],i=.8*a,h=r,d=.2*a;to(t[Lt],[0,i,h,d,.95,!0,!1,g[3]]);const _=Mo([],e[Ee]);_[Zt]=o[Jt]+0+c[Br],_[tn]=o[Kt]+i-f[$r],_[nn]=.2*h,_[en]=d-f[Lr],_[kn]=[],lo(He(s,e[Ee][Xt])(_),n,s[C],t[Lt]),oo(s[T][kr],[e[De],i,0+.3*h,h-(0+.3*h),d,[c[Br],c[Br]],e[Ie]]),s[B][t[$t]][N]?t[St]=!0:t[St]&&(t[St]=!1,t[Gt]++,e[ze](),t[Gt]>=t[Ot].length&&l(t))}function u(t){no(t[Lt]),Fr[T][kr][ot].innerText=""}function l(t){u(t),t[At].forEach(t=>t()),_(t[Ct][O],t[Yt]),function(t){t[I]=!1}(t[Ct])}function h(t=[]){const n=Mo([60,!0,null,[],Date.now()],t);return function t(n){n[Pt]=requestAnimationFrame(t.bind(null,n));const e=Date.now();const o=n[Rt];n[Rt]=e;if(n[Ht])return;const r=e-o;r>=1e3/n[Ft]&&n[Wt].forEach(t=>t(r))}(n),n[Rt]=Date.now(),n}function d(t,...n){const e=t[Wt];n.forEach(t=>{-1===e.indexOf(t)&&e.push(t)})}function _(t,n){const e=t[Wt],o=e.indexOf(n);o>=0&&e.splice(o,1)}!function(){var t=44100;function n(t){return Math.sin(6.283184*t)}var e=[n,function(t){return n(t)<0?-1:1},function(t){return t%1-.5},function(t){var n=t%1*4;return n<2?n-1:3-n}];function o(t){return.00390625*Math.pow(1.059463094,t-128)}function r(t){return{left:new Float32Array(t),right:new Float32Array(t)}}var s=function(t,n,o){this.ctx=t,this.instr=n,this.rowLen=o||5605,this.osc_lfo=e[n.lfo_waveform],this.osc1=e[n.osc1_waveform],this.osc2=e[n.osc2_waveform],this.attack=n.env_attack,this.sustain=n.env_sustain,this.release=n.env_release,this.panFreq=Math.pow(2,n.fx_pan_freq-8)/this.rowLen,this.lfoFreq=Math.pow(2,n.lfo_freq-8)/this.rowLen};s.prototype._genSound=function(e,r,a){for(var s=0,c=0,f=o(e+12*(this.instr.osc1_oct-8)+this.instr.osc1_det)*(1+8e-4*this.instr.osc1_detune),i=o(e+12*(this.instr.osc2_oct-8)+this.instr.osc2_det)*(1+8e-4*this.instr.osc2_detune),u=this.instr.fx_resonance/255,l=0,h=0,d=r.left.length,_=this.attack+this.sustain+this.release-1;_>=0;--_){var m=_+a,p=this.osc_lfo(m*this.lfoFreq)*this.instr.lfo_amt/512+.5,g=1;_<this.attack?g=_/this.attack:_>=this.attack+this.sustain&&(g-=(_-this.attack-this.sustain)/this.release);var x=f;this.instr.lfo_osc1_freq&&(x+=p),this.instr.osc1_xenv&&(x*=g*g),s+=x;var w=this.osc1(s)*this.instr.osc1_vol;x=i,this.instr.osc2_xenv&&(x*=g*g),c+=x,w+=this.osc2(c)*this.instr.osc2_vol,this.instr.noise_fader&&(w+=(2*Math.random()-1)*this.instr.noise_fader*g),w*=g/255;var v=this.instr.fx_freq;this.instr.lfo_fx_freq&&(v*=p);var y=u*(w-h)-(l+=(v=1.5*Math.sin(3.141592*v/t))*h);switch(h+=v*y,this.instr.fx_filter){case 1:w=y;break;case 2:w=l;break;case 3:w=h;break;case 4:w=l+y}x=n(m*this.panFreq)*this.instr.fx_pan_amt/512+.5,w*=.00476*this.instr.env_master,m<d&&(r.left[m]+=w*(1-x),r.right[m]+=w*x)}};var c=function(n,e){this.ctx=n,this.song=e,this.waveSize=t*e.songLen};c.prototype._generateTrack=function(t,n,e){var o=r(this.waveSize),a=this.waveSize,c=this.song.rowLen,f=this.song.endPattern,i=new s(this.ctx,t,c),u=0,l=0,h=0,d=function(){for(var n=Date.now();;)if(32!==h){if(l===f-1)return _();var e=t.p[l];if(e){var r=t.c[e-1].n[h];r&&i._genSound(r,o,u)}if(u+=c,h+=1,Date.now()-n>33)return void setTimeout(d,0)}else h=0,l+=1},_=function(){!function(t,n,e,o){for(var r=e.fx_delay_time*o>>1,a=e.fx_delay_amt/255,s=0;s<n-r;){var c=s,f=s+r;t.left[f]+=t.right[c]*a,t.right[f]+=t.left[c]*a,s++}}(o,a,t,c);for(var r=0;r<a;r++)n.left[r]+=o.left[r];for(r=0;r<a;r++)n.right[r]+=o.right[r];e()};d()},c.prototype._createAudioBuffer=function(n){var e=this,o=r(this.waveSize),a=0,s=function(){a<e.song.songData.length?(a+=1,e._generateTrack(e.song.songData[a-1],o,s)):n(function(n,e){var o=n.createBuffer(2,e.left.length,t);return o.getChannelData(0).set(e.left),o.getChannelData(1).set(e.right),o}(e.ctx,o))};s()},a=function(t,n,e){new c(t,n)._createAudioBuffer(e)}}();const m=()=>{},p=["#F5BEBE","#E86767","#DB1111","#8C0B0B","#3C0505"],g=["#D1EDF5","#AFDFEE","#82CEE5","#538492","#24393F"],x=["#D7EBD3","#B9DCB2","#91C987","#5DB056","#283725"],w=["#DAC1AD","#B6845C","#8D501D","#553011","#2B1809"],v=["#C3C8C9","#738082","#374A4D","#1D2E32","#0D1516"],[y,k,M,b,E,D,I,z,q,T,B,O,C,A,L,$,S,G,Y,F,H,P,W,R]=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],[j,J,K,N,V,Q]=[0,1,2,3,4,5],[U,X,Z,tt,nt,et,ot,rt,at]=[0,1,2,3,4,5,6,7,8],[st,ct,ft]=[0,1,2],[it,ut,lt,ht,dt,_t,mt,pt,gt,xt,wt,vt,yt,kt,Mt,bt,Et,Dt,It,zt,qt,Tt,Bt]=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22],[Ot,Ct,At,Lt,$t,St,Gt,Yt]=[0,1,2,3,4,5,6,7,8],[Ft,Ht,Pt,Wt,Rt]=[0,1,2,3,4],[jt,Jt,Kt,Nt,Vt,Qt,Ut]=[0,1,2,3,4,5,6],[Xt,Zt,tn,nn,en,on,rn,an,sn,cn,fn,un,ln,hn,dn,_n,mn,pn,gn,xn,wn,vn,yn,kn,Mn,bn,En,Dn,In]=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],[zn,qn,Tn,Bn,On,Cn,An,Ln,$n,Sn,Gn]=[0,1,2,3,4,5,6,7,8,9,10,11],[Yn,Fn,Hn,Pn,Wn,Rn,jn,Jn,Kn]=[0,1,2,3,4,5,6,7,8],[Nn,Vn,Qn,Un,Xn,Zn,te]=[0,1,2,3,4,5,6],[ne,ee,oe,re,ae]=[0,1,2,3,4,5],[se,ce,fe,ie,ue,le,he,de]=[0,1,2,3,4,5,6,7],[_e,me,pe,ge]=[0,1,2,3],[xe,we,ve,ye,ke,Me,be]=[0,1,2,3,4,5,6],[Ee,De,Ie,ze]=[0,1,2,3],[qe,Te,Be]=[0,1,2],[Oe,Ce]=[0,1],[Ae,Le,$e]=[0,1,2],[Se,Ge]=[0,1];function Ye(t=[]){return Mo([-1,"",v[4],m],t)}function Fe(t,n=-1,e=m){return t[A][n]||(t[A][n]=e),e}function He(t,n){return t[A][n]||Fe(t,n,uo)}function Pe(t,n=-1,e=[],o){t[B][n]=function(t=[],n){const e=Mo([[],null,0,!1,!1,!1],t);return document.addEventListener("keydown",t=>{if(-1===e[j].indexOf(t.keyCode))return;e[N]=!0;const o=Date.now();e[J]?e[K]=o-e[J]:(e[J]=o,n&&zzfx.apply(null,n)),t.preventDefault()}),document.addEventListener("keyup",t=>{-1!==e[j].indexOf(t.keyCode)&&(e[N]=!1,e[J]=null,e[K]=0,t.preventDefault())}),e}([e],o)}function We(t,n=-1,e){t[T][n]=e?function(t=[]){const n=document.createElement("div"),e=Mo(["",document.createElement("div"),500,500,null,null,n,0,0],t);return e[ot].style.position="absolute",e[ot].setAttribute("data-key",e[U]),e[X].appendChild(e[ot]),eo(e,0,0,e[rt],e[at]),e}([n,t[y],t[b],t[E]]):function(t=[]){const n=document.createElement("canvas"),e=Mo(["",document.createElement("div"),500,500,n,n.getContext("2d")],t);return e[nt].style.position="absolute",e[nt].setAttribute("data-key",e[U]),e[X].appendChild(e[nt]),function(t,n=500,e=500){const o=t[nt];o.offsetWidth===n&&o.offsetHeight===e||(o.style.offsetWidth=n+"px",o.style.offsetHeight=e+"px");o.width=n,o.height=e}(e,e[Z],e[tt]),e}([n,t[y],t[b],t[E]])}function Re(t,n=-1,e="",o=m,r=[],a=!1){const s=t[q][e],c=!a&&s?s:[[],o(r)];c[st].push(Date.now()),t[q][e]=c;const f=c[ct];r[dt]&&(f[dt]=r[dt]),Rr[n](f),c[ft]=c[ft]||Pr[n].bind(null,f);const i=c[ft],u=t[z].indexOf(i);u>=0&&t[z].splice(u,1),t[z].push(i)}function je(t,n=[],e=m){const o=c([n,t,[e],t[T][yr],Ir]);t[$]=o,o[At].push(e,()=>(function(t,n=null){t[$]=n})(t,null)),f(o,1===n.length)}function Je(t=[]){return Mo(["",null,32,32,[],[],[],[],[],!1,!1,!1,!1,!1,!1,!1,!1,[],[],-1,-1,[],[]],t)}function Ke(t,n){const e=t[it];return!!t[xt]||(t[wt]?t[yt]?t[Et]?t[vt]?t[kt]?t[Mt]?t[bt]?(Ur[e](t,n),t[Dt].forEach((n,e)=>{n&&function(t,n){no(t[$n])}(t[mt][An][e])}),t[It].forEach((e,o)=>{if(e){const e=t[ut][C];so(t[mt][An][o],n,e),so(t[Bt],n,e)}}),!1):(ta[e](t),t[bt]=!0,!1):(Zr[e](t),t[Mt]=!0,!1):(Xr[e](t),t[kt]=!0,!1):(Nr[e](t),t[vt]=!0,!1):(Qr[e](t),t[Et]=!0,!1):(Jr[e](t),Kr[e](t),t[yt]=!0,!1):(Vr[e](t),t[wt]=!0,!1))}function Ne(t){t[xt]=!0}function Ve(t){t[xt]=!1,t[kt]=!1,t[vt]=!1;const n=t[ut],e=n[Y],o=t[zt]*e[we]+t[qt],r=n[G],a=n[C][Nt],s=a/2-20,c=r[Sr];oo(n[T][kr],[`Cell ${o}`,c,s,a-s,r[Sr],[0,0],w[0]])}function Qe(t){const n=t[it];jr[n](t);const e=t[pt],o=t[ut],r=t[ht]*o[k],a=t[lt]*o[M],s=ro([qe,e[ne],e[ee],r,a,[],[],[],o[T][vr]]);t[mt]=s,e[ae].forEach(t=>{const n=ro([Te,s[qn],s[Tn],s[Bn],s[On],[],[],s,s[$n],t[Fn]]),e=o[k],r=o[M],a=n[qn];n[Tn];switch(t[Yn]){case gr:t[Jn].forEach((t,c)=>{const f=c%a,i=Math.floor(c/a),u=[];u[Zt]=f*e,u[tn]=i*r,u[nn]=e,u[en]=r,u[hn]=f,u[dn]=i,u[ln]=c,u[xn]=s,u[yn]=n,ao(n,function(t,n=-1,e=[]){const o=[];return o[Xt]=n,o[gn]=Oe,He(t,n)(Mo(o,e))}(o,t,u))});break;case xr:t[Kn].forEach(t=>{const e=[];Mo(e,t[te]||[]),e[Zt]=t[Un],e[tn]=t[Xn],e[nn]=t[Vn],e[en]=t[Qn],e[on]=t[Zn],e[xn]=s,e[yn]=n,ao(n,function(t,n=-1,e=[]){const o=[];return o[gn]=Ce,o[Xt]=n,He(t,n)(Mo(o,e))}(o,t[Nn],e))})}!function(t,n){const e=t[An];-1===e.indexOf(n)&&e.push(n);n[Gn]=t}(s,n)}),t[Dt]=s[An].map(()=>!0),t[It]=s[An].map(()=>!0)}function Ue(t){const n=t[mt];t[Bt]=ro([Be,n[qn],n[Tn],n[Bn],n[On],[],[],[],n[$n]])}function Xe(t){}function Ze(t){to(t[ut][T][wr],[,,,,,,,v[4],v[4]])}function to(t,n=[]){const[e=0,o=0,r=t[Z],a=t[tt],s=1,c=!0,f=!1,i="red",u="black"]=n,l=t[et];l.save(),l.globalAlpha=s,l.fillStyle=i,l.strokeStyle=u,l.beginPath(),l.rect(e,o,r,a),c&&l.fill(),f&&l.stroke(),l.restore()}function no(t,n=[]){const[e=0,o=0,r=t[Z],a=t[tt]]=n;t[et].clearRect(e,o,r,a)}function eo(t,n=0,e=0,o=500,r=500){const a=t[ot];a.style.top=Math.round(n)+"px",a.style.left=Math.round(e)+"px",a.style.right=Math.round(t[Z]-(e+o))+"px",a.style.bottom=Math.round(t[tt]-(n+r))+"px"}function oo(t,[n="PLACE_HOLDER",e=0,o=0,r=500,a=500,s=[0,0],c=v[4],f=24,i=400,u="fantasy sans-serif serif",l="left"]){const h=t[ot];eo(t,e,o,r,a),h.innerText=n,h.style.fontSize=f+"px",h.style.fontWeight=i,h.style.fontFamily=u,h.style.color=c,h.style.padding=s.map(t=>t+"px").join(" "),h.style.textAlign=l}function ro(t=[]){return Mo(["",32,32,0,0,[],[],[],[],-1],t)}function ao(t,n=[]){const e=t[Cn];-1===e.indexOf(n)&&e.push(n),n[bn]=t}function so(t,n,e){t[Cn].forEach(o=>lo(o,n,e,t[$n]))}function co(t,n){let e=[];e=t[zn]===qe?t[An]:[t];for(let t=0;t<e.length;t++){const o=e[t][Cn];for(let t=0;t<o.length;t++){let e=o[t];if(e[Xt]===n)return e}}return null}function fo(t,n){const e=[];let o=[];o=t[zn]===qe?t[An]:[t];for(let t=0;t<o.length;t++){const r=o[t][Cn];for(let t=0;t<r.length;t++){let o=r[t];o[Xt]===n&&e.push(o)}}return e}function io(t,n){const e=[];let o=[];o=t[zn]===qe?t[An]:[t];for(let t=0;t<o.length;t++){const r=o[t][Cn];for(let t=0;t<r.length;t++){let o=r[t];for(let t=0;t<n.length;t++)o[Xt]===n[t]&&e.push(o)}}return e}function uo(t=[]){return Mo([-1,0,0,32,48,"",Ae,!1,!1,p[2],"",1,-1,-1,-1,0,0,0,Oe,[],m,[],[],[],-1,[],null,null,-1],t)}function lo(t,n,e,o){const r=Math.floor(t[Zt]-e[Jt]),a=Math.floor(t[tn]-e[Kt]);if(r<-t[nn]||r>e[Nt]||a<-t[en]||a>e[Vt])return;let s=a,c=t[en],f=t[un];const i=t[kn][To],u=t[kn][Bo];"number"==typeof i&&(i>0&&(c=Math.max(0,t[en]*i/u),to(o,[r,s=a+t[en]-c,t[nn],c,t[un],!!t[cn],!!t[fn],t[cn],t[fn]])),f=.4),to(o,[r,a,t[nn],t[en],f,!!t[cn],!!t[fn],t[cn],t[fn]]),t[an]&&function(t,n=[]){const[e=0,o=0,r="left",a="alphabetic",s="PLACE_HOLDER",c="16",f="black",i=1]=n,u=t[et];u.save(),u.font=`${c}px serif`,u.fillStyle=f,u.globalAlpha=i,u.textAlign=r,u.textBaseline=a,u.fillText(s,e,o),u.restore()}(o,[r+t[nn]/2,a,"center","bottom",t[on],16,t[cn],t[un]])}function ho(t,n){n||t[gn]!==Oe&&(t[Zt]+=t[_n],_o(t),t[tn]+=t[mn],_o(t))}function _o(t){!function(t,n=[]){const e=[[],[],[],[]];n.forEach(po.bind(null,e,t));const o=[e[1],e[3],e[0],e[2]].sort((t,n)=>n.length-t.length)[0].sort((t,n)=>n[1]-t[1])[0];if(!o)return;const r=o[0];t[Xt]===er&&-1!==[jo,Jo,Ko,No].indexOf(r[Xt])||function(t,n){switch(n){case Le:return go;default:return m}}(0,r[rn])(t,o);t[rn]===$e&&xo(t);r[wn](t)}(t,function(t){const n=t[xn],e=mo(t);let o=[];return e.forEach(e=>{n[An].forEach(n=>{const r=n[Cn],a=r[0];if(a)if(a[gn]===Ce)o=o.concat(r.filter(n=>n!==t&&(!t[En]||n!==t[En])&&mo(n).indexOf(e)>=0&&n[rn]!==Ae));else{const t=n[Cn][e];t&&t[Xt]!==Ho&&[_r,dr].indexOf(t[yn][Sn])>=0&&o.push(n[Cn][e])}})}),o}(t))}function mo(t){if(t[gn]===Oe)return[t[ln]];{const n=t[xn],e=n[qn]/n[Bn],o=n[Tn]/n[On],r=Math.floor(t[Zt]*e-.001),a=Math.floor((t[Zt]+t[nn])*e-.001),s=Math.floor(t[tn]*o-.001),c=Math.floor((t[tn]+t[en])*o-.001),f=[];for(let t=s;t<=c;t++)for(let e=r;e<=a;e++)f.push(t*n[qn]+e);return f}}function po(t,n,e){if(n===e)return;let o=function(t,n){const e=n[tn]<=t[tn]&&n[tn]+n[en]>=t[tn]&&n[tn]+n[en]-t[tn],o=t[Zt]<=n[Zt]&&t[Zt]+t[nn]>=n[Zt]&&t[Zt]+t[nn]-n[Zt],r=t[tn]<=n[tn]&&t[tn]+t[en]>=n[tn]&&t[tn]+t[en]-n[tn],a=n[Zt]<=t[Zt]&&n[Zt]+n[nn]>=t[Zt]&&n[Zt]+n[nn]-t[Zt],s=Math.max(o,a)&&+e,c=Math.max(r,e)&&+o,f=Math.max(o,a)&&+r,i=Math.max(r,e)&&+a;return[s,c,f,i]}(n,e);o[_e]&&(e[rn]===Ae||n[mn]<0)&&t[_e].push([e,o[_e],_e]),o[me]&&(e[rn]===Ae||n[_n]>0)&&t[me].push([e,o[me],me]),o[pe]&&(e[rn]===Ae||n[mn]>0)&&t[pe].push([e,o[pe],pe]),o[ge]&&(e[rn]===Ae||n[_n]<0)&&t[ge].push([e,o[ge],ge])}function go(t,n){const[e,o,r]=n;switch(r){case _e:t[tn]+=o,t[mn]=0;break;case me:t[Zt]-=o,t[_n]=0;break;case pe:t[tn]-=o,t[mn]=0;break;case ge:t[Zt]+=o,t[_n]=0}}function xo(t){const n=t[bn][Cn];n.splice(n.indexOf(t),1)}function wo(t,n,e,a){if(t[kn][To]<=0)return;const s=e[Bt],c=He(e[ut],a)([a,t[Zt]+t[nn]/2,t[tn]+t[en]/2]),f=c[pn];let i;n?ko(c,t,n):(i=r[o]()*Math.PI*2,c[_n]=Math.cos(i)*f,c[mn]=Math.sin(i)*f),c[gn]=Ce,c[xn]=e[mt],c[rn]=$e,c[En]=t,c[Dn]=n,ao(s,c)}function vo(t,n,e,a,s=2e3){t[kn][To]<=0||t[kn][$o]||(wo(t,n,e,a),setTimeout(()=>{vo(t,n,e,a,s)},Math.max(300,Math.round(r[o]()*s))))}const yo=function(t,n){let e,o;return function(){const r=this,a=arguments;o?(clearTimeout(e),e=setTimeout((function(){Date.now()-o>=n&&(t.apply(r,a),o=Date.now())}),n-(Date.now()-o))):(t.apply(r,a),o=Date.now())}}(wo,300);function ko(t,n,e){const o=t[pn],r=e[Zt]+e[nn]/2,a=e[tn]+e[en]/2,s=n[Zt]+n[nn]/2,c=n[tn]+n[en]/2,f=Math.atan(Math.abs((c-a)/(r-s)));t[_n]=Math.cos(f)*o*(r>s?1:-1),t[mn]=Math.sin(f)*o*(a>c?1:-1)}function Mo(...t){return t.length<=1?t[0]||[]:t.reduce((t,n)=>(n.forEach((n,e)=>{void 0!==n&&(t[e]=n)}),t))}const bo={songLen:99,songData:[{osc1_oct:10,osc1_det:0,osc1_detune:0,osc1_xenv:0,osc1_vol:61,osc1_waveform:0,osc2_oct:12,osc2_det:7,osc2_detune:0,osc2_xenv:0,osc2_vol:125,osc2_waveform:0,noise_fader:0,env_attack:0,env_sustain:0,env_release:47272,env_master:86,fx_filter:2,fx_freq:2844,fx_resonance:160,fx_delay_time:8,fx_delay_amt:34,fx_pan_freq:3,fx_pan_amt:0,lfo_osc1_freq:0,lfo_fx_freq:0,lfo_freq:0,lfo_amt:0,lfo_waveform:0,p:[1,1,1,2,1,2,3,0,4,0,1,2,1,7,5],c:[{n:[132,0,0,0,139,0,0,0,137,0,0,0,142,0,0,0,139,0,0,0,144,0,0,0,139,0,0,0,135,0,0,0]},{n:[137,0,0,0,142,0,0,0,139,0,0,0,144,0,0,0,142,0,0,0,146,0,0,0,142,0,0,0,135,0,0,0]},{n:[0,0,132,0,135,0,132,0,135,0,139,0,0,0,137,0,0,0,132,0,135,0,132,0,135,0,135,0,0,0,135,0]},{n:[0,0,132,0,135,0,132,0,135,0,139,0,0,0,137,0,0,0,132,0,135,0,132,0,135,0,135,0,0,0,132,0]},{n:[0,0,132,0,135,0,132,0,135,0,139,0,0,0,137,0,0,0,132,0,135,0,132,0,135,0,135,0,0,0,144,0]},{n:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[137,0,0,0,142,0,0,0,139,0,0,0,144,0,0,0,142,0,0,0,146,0,0,0,147,0,0,0,149,0,0,0]}]},{osc1_oct:7,osc1_det:0,osc1_detune:0,osc1_xenv:0,osc1_vol:255,osc1_waveform:3,osc2_oct:8,osc2_det:0,osc2_detune:8,osc2_xenv:0,osc2_vol:74,osc2_waveform:3,noise_fader:0,env_attack:47272,env_sustain:40909,env_release:46363,env_master:149,fx_filter:2,fx_freq:224,fx_resonance:67,fx_delay_time:2,fx_delay_amt:25,fx_pan_freq:0,fx_pan_amt:0,lfo_osc1_freq:0,lfo_fx_freq:0,lfo_freq:0,lfo_amt:0,lfo_waveform:0,p:[0,0,1,2,1,2,3,1,3,1,1,2,1,2,3,1],c:[{n:[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[118,0,0,0,0,0,118,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[116,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,118,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}]},{osc1_oct:8,osc1_det:0,osc1_detune:0,osc1_xenv:0,osc1_vol:192,osc1_waveform:2,osc2_oct:8,osc2_det:7,osc2_detune:0,osc2_xenv:0,osc2_vol:172,osc2_waveform:2,noise_fader:0,env_attack:48181,env_sustain:80909,env_release:51818,env_master:174,fx_filter:2,fx_freq:1300,fx_resonance:43,fx_delay_time:6,fx_delay_amt:172,fx_pan_freq:1,fx_pan_amt:125,lfo_osc1_freq:0,lfo_fx_freq:1,lfo_freq:3,lfo_amt:180,lfo_waveform:0,p:[0,0,1,2,1,2,3,0,3,0,5,6,5,6,7],c:[{n:[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[118,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[116,0,0,0,0,0,0,0,0,0,0,0,0,0,118,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,120,0]},{n:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[120,151,156,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[118,149,154,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{n:[152,116,0,0,0,0,0,0,0,0,0,0,0,0,118,0,142,0,0,0,0,0,0,0,0,0,0,0,0,0,120,144]}]},{osc1_oct:6,osc1_det:0,osc1_detune:0,osc1_xenv:1,osc1_vol:193,osc1_waveform:0,osc2_oct:5,osc2_det:7,osc2_detune:0,osc2_xenv:0,osc2_vol:80,osc2_waveform:0,noise_fader:0,env_attack:50,env_sustain:0,env_release:17272,env_master:254,fx_filter:1,fx_freq:0,fx_resonance:254,fx_delay_time:0,fx_delay_amt:0,fx_pan_freq:0,fx_pan_amt:0,lfo_osc1_freq:0,lfo_fx_freq:0,lfo_freq:0,lfo_amt:0,lfo_waveform:3,p:[0,0,0,0,0,0,1,2,2,5,3,4,7,8,6],c:[{n:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,147,0]},{n:[147,0,0,0,0,0,147,0,147,0,0,0,0,0,147,0,147,0,0,0,0,0,147,0,147,0,0,0,0,0,147,0]},{n:[147,0,0,0,0,0,147,0,0,0,0,0,0,0,147,0,147,0,0,0,0,0,147,0,0,0,0,0,0,0,147,147]},{n:[147,0,0,0,0,0,147,0,0,0,0,0,0,0,0,0,147,0,0,0,0,0,147,0,0,0,0,0,0,0,0,0]},{n:[147,0,0,0,0,0,147,0,147,0,0,0,0,0,147,0,147,0,0,0,0,0,147,0,147,0,0,0,0,0,0,0]},{n:[147,0,0,0,0,0,147,0,147,0,0,0,0,0,146,0,146,0,0,0,0,0,144,0,135,0,0,0,0,0,0,0]},{n:[147,0,0,0,0,0,147,0,0,0,147,0,159,0,0,0,147,0,147,0,0,0,147,0,0,0,147,0,159,0,147,0]},{n:[147,0,0,0,0,0,147,0,0,0,0,0,159,0,147,0,147,0,0,0,0,0,147,0,147,0,0,0,0,0,147,0]}]}],rowLen:7875,endPattern:17},Eo="player",[Do,Io,zo,qo,To,Bo,Oo,Co,Ao,Lo,$o]=[0,1,2,3,4,5,6,7,8,9,10],So=[1,.1,120,.2,.34,-.2,1,0,.93],Go=[1,.1,650,.1,.94,1.1,2.7,16.7,.98],Yo=[1,.1,550,.4,.83,.5,2.9,.1,0],Fo=[1,.1,54,.9,.36,0,.3,28.1,.27],[Ho,Po,Wo,Ro,jo,Jo,Ko,No,Vo,Qo,Uo,Xo,Zo,tr,nr,er,or,rr,ar,sr]=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],[cr,fr,ir,ur]=[0,1,2,3],[lr,hr,dr,_r,mr,pr]=[0,1,2,3,4,5],[gr,xr]=[0,1],[wr,vr,yr,kr]=[0,1,2,3],[Mr,br,Er,Dr,Ir,zr]=[0,1,2,3,4,5],[qr]=[1],[Tr,Br,Or,Cr,Ar]=[0,1,2,3,4],[Lr,$r,Sr,Gr,Yr]=[0,1,2,3,4],Fr=function(t=[]){const n=Mo([document.createElement("div"),20,20,innerWidth,innerHeight,v[4],!1,[],[],[],[],h(),[],[],[],null,[],[],null,[],!1,!1,null,null],t),e=n[k],o=n[M];return n[S]=[e/2,e,2*e,3*e,8*e],n[G]=[o/2,o,2*o,3*o,8*o],n[C]=function(t=[]){return Mo([null,0,0,640,640,null,null],t)}([n,0,0,n[b],n[E]]),n[O]=h(),n}([document.getElementById("root")]);!function(t){!function(t){t[R]=new(window.AudioContext||window.webkitAudioContext),a(t[R],bo,n=>{t[W]=n,t[H]=!0})}(t)}(Fr),We(Fr,wr),We(Fr,vr),We(Fr,yr),We(Fr,kr,!0),Pe(Fr,Mr,[87,38],So),Pe(Fr,br,[83,40],So),Pe(Fr,Er,[65,37],So),Pe(Fr,Dr,[68,39],So),Pe(Fr,Ir,[13]),Pe(Fr,zr,[32],[1,.1,1450,.3,.05,0,1.1,16.8,.31]);const Hr=[Je,function(t){return Je(t)}],Pr=[Ke,Ke],Wr=[Ne,Ne],Rr=[Ve,Ve],jr=[m,function(t){const n=t[ut],e=t[ut][Y];t[Tt]=function(t=""){const n=[cr,fr,ir,ur];return(t="0000".substring(t.length)+t).split("").map((t,e)=>"1"===t?n[e]:"")}(e[ve][t[zt]][t[qt]]);const a=t[zt],s=t[qt],c=n[Y],f=c[ye]===a&&c[ke]===s,i=c[Me]===a&&c[be]===s;f?function(t){const n=t[ut],e=t[ht]*n[k],o=t[lt]*n[M],r=n[S],a=n[G],s=[];s[rn]=Le,t[pt]=ma([0,0,t[ht],t[lt],t[Tt],n[k],n[M],[[Xo,r[Or],a[Cr],Math.floor((e-r[Or])/2),Math.floor((o-a[Gr])/4),,s],[Qo,r[Or],a[Cr],Math.floor((e-r[Or])/2),Math.floor((o-a[Gr])/2),,]]])}(t):i?function(t){t[ht]=64,t[lt]=64;const n=t[ut],e=t[ht]*n[k],a=t[lt]*n[M],s=n[k],c=n[M],f=n[S],i=n[G],u=(t[dt],f[Or]),l=i[Cr],h=[[Qo,f[Or],i[Cr],0,0,Eo]],d=[];d[rn]=Ae,d[cn]=x[1],d[un]=0,h.push([tr,f[Or],i[Cr],Math.round((e-Or)/3),Math.round((a-Cr)/3),,d]);const _=[];_[rn]=Le,_[kn]=[],_[kn][To]=20,_[kn][Bo]=20,_[kn][Oo]=2,_[kn][Ao]=150,_[rn]=Le,h.push([er,f[Ar],i[Ar],Math.round((e-Cr)/2),Math.round((a-Ar)/2),,_]);const m=Math.floor(r[o]()*(t[ht]/20*t[lt]/30));for(let t=0;t<m;t++){const t=f[Math.ceil((f.length-2)*r[o]())],n=i[Math.ceil((i.length-2)*r[o]())],d=[];d[rn]=Le,h.push([er,t,n,Math.floor(s+Math.max(0,(e-2*s-t-u-s)*r[o]())),Math.floor(3*c+Math.max(0,(a-6*c-n-l-c)*r[o]())),,d])}t[pt]=ma([0,0,t[ht],t[lt],t[Tt],s,c,h])}(t):function(t){const n=t[ut],e=t[ht]*n[k],a=t[lt]*n[M],s=n[k],c=n[M],f=n[S],i=n[G],u=t[dt],l=f[Or],h=i[Cr],d=[[Qo,l,h,0,0,Eo]];if(u[Io])if(u[qo]){const n=r[o]()>.5?Math.floor(r[o]()*(t[ht]/8*t[lt]/27)):0;for(let t=0;t<n;t++){const t=f[Math.ceil((f.length-2)*r[o]())],n=i[Math.ceil((i.length-2)*r[o]())],u=[];u[rn]=Le,d.push([er,t,n,Math.floor(s+Math.max(0,(e-2*s-t-l-s)*r[o]())),Math.floor(3*c+Math.max(0,(a-6*c-n-h-c)*r[o]())),,u])}}else{u[qo]=!0;const t=[];t[rn]=Le,d.push([er,f[Or],i[Cr],Math.round((e-Or)/2),Math.round((a-Cr)/2),,t])}else{u[Io]=!0;const t=[];t[rn]=Le,t[cn]=x[1],d.push([tr,f[Or],i[Cr],Math.round((e-Or)/3),Math.round((a-Cr)/3),,t])}t[pt]=ma([0,0,t[ht],t[lt],t[Tt],s,c,d])}(t)}],Jr=[Qe,Qe],Kr=[Ue,Ue],Nr=[m,function(t){const n=co(t[mt],Qo);Mo(n[kn],t[dt]);const e=n[kn][Do],o=t[ut],r=t[ht]*o[k],a=t[lt]*o[M],s=o[k],c=o[M];if(n[kn][To]>0&&void 0!==e)switch(e){case cr:n[Zt]=(r-n[nn])/2,n[tn]=3*c;break;case fr:n[Zt]=r-s-n[nn],n[tn]=(a-n[en])/2;break;case ir:n[Zt]=(r-n[nn])/2,n[tn]=a-c-n[en];break;case ur:n[Zt]=s,n[tn]=(a-n[en])/2}else n[Zt]=(r-n[nn])/2,n[tn]=(a-n[en])/2;const f=co(t[mt],tr);let i=fo(t[mt],er);(i=f&&"johnTheBadGuy"===f[on]?i.concat([f]):i).forEach(e=>{e[kn][$o]=!1,vo(e,n,t,rr,e[kn][Ao])}),n[kn][Co]&&f&&"johnTheBadGuy"!==f[on]&&(f[un]=0,f[rn]=Ae)}],Vr=[Xe,Xe],Qr=[Ze,Ze],Ur=[m,function(t,n){const e=co(t[mt],Qo);(function(t,n,e){const o=t[ut],r=o[B],a=r[Mr][N],s=r[br][N],c=r[Er][N],f=r[Dr][N],i=(a||s)&&(c||f),u=n[pn],l=u/Math.sqrt(2);a&&(n[mn]=-(i?l:u));s&&(n[mn]=i?l:u);c&&(n[_n]=-(i?l:u));f&&(n[_n]=i?l:u);a||s||(n[mn]=0);c||f||(n[_n]=0);ho(n,o[I])})(t,e),function(t,n){const e=t[ut],o=e[B][zr][N],r=n[Zt]+n[nn]/2,a=n[tn]+n[en]/2,s=fo(t[mt],tr).filter(t=>"johnTheBadGuy"===t[on]),c=fo(t[mt],er).concat(s).filter(t=>t[rn]===Le).sort((t,n)=>{const e=t[Zt]+t[nn]/2,o=t[tn]+t[en]/2,s=n[Zt]+n[nn]/2,c=n[tn]+n[en]/2;return Math.pow(r-e,2)+Math.pow(a-o,2)-(Math.pow(r-s,2)+Math.pow(a-c,2))})[0];o&&yo(n,c,t,or,1e3);t[Bt][Cn].forEach(t=>{ho(t,e[I])})}(t,e),function(t){const n=co(t[mt],Qo),e=fo(t[mt],tr).filter(t=>"johnTheBadGuy"===t[on]);fo(t[mt],er).concat(e).forEach(e=>{ko(e,e,n),ho(e,t[ut][I])})}(t)}],Xr=[m,function(t){const n=co(t[mt],Qo);!function(t,n=[]){t[Qt]=n,t[Ut]&&_(t[jt][O]),t[Ut]=s.bind(null,t),d(t[jt][O],t[Ut]),s(t)}(t[ut][C],n)}],Zr=[m,m],ta=[m,function(t){const n=t[ut],e=io(t[mt],t[Tt].map(t=>n[F][t]));na||e.forEach(t=>{t[cn]=p[3],t[rn]=Le});const a=t[zt],s=t[qt],c=n[Y],f=c[ye]===a&&c[ke]===s,i=c[Me]===a&&c[be]===s;f?function(t){const n=t[ut],e=io(t[mt],t[Tt].map(t=>n[F][t])),o=co(t[mt],Xo);o[wn]=r=>{if(r[Xt]===Qo&&!n[$]){const a=r[kn][To]<=r[kn][Bo]?()=>{r[kn][To]=r[kn][Bo]}:()=>{e.forEach(t=>{t[cn]=x[3],t[rn]=Ae})};je(n,function(t,n,e){if(n[kn][To]<n[kn][Bo]){const e=Math.random();let o,r="Let me help you, my friend!";return e>.7&&(n[kn][Oo]++,r="Don't worry, I will make you stronger!",o=x[4]),e<.3&&n[kn][Oo]>1&&(n[kn][Oo]--,r="Too much damange... Be careful, you are weaker now!",o=p[4]),[Ye([t,r,o])]}return t[vn][0]?n[kn][Lo]?t[vn][1]?[Ye([t,"Your name will be remembered in our country! (GAME OVER!)",x[3]])]:(t[vn][1]=!0,[[t,"You are back! How's your trip?"],[n,"Pretty interesting... I killed monsters and liars!"],[t,"What happened?!"],[n,"(I told the realKing! about the betrayal of John. His clostest friend turns out to be a bad guy.)"],[t,"I couldn'd believe what happened!"],[t,"..."],[t,"Thank you, my friend, for bring me back the best gem..."],[t,"The gem of truth!"],[t,"It worth more than all other gems combined."],[t,"Your name will be remembered in our country! (GAME OVER!)",x[4]]].map(Ye)):[Ye([t,"Please bring back our gems!",p[3]])]:(t[vn][0]=!0,[[t,"Hello warrior, welcome to the land of real gems! (Enter key to next...)"],[t,"I am the real king. You know, I run this place."],[t,"However, that's until 5 years ago, when the dragons took our gems!"],[t,"The world is suffering in fear..."],[t,"Please bring back the gems and restore the world peace!"],[n,"That sounds great! Kill the dragons and take the gems, that's what I do for a living!"],[t,"Thank you for your help! Remember, you can always come back and restore your health!"],[n,"Wow!"],[t,"You are welcome! Now, the doors are open for you!",,()=>{const t=e[ut];io(e[mt],e[Tt].map(n=>t[F][n])).forEach(t=>{t[cn]=x[3],t[rn]=Ae})}],[t,"Please bring back our gems!",p[3]]].map(Ye))}(o,r,t),a)}}}(t):i?function(t){const n=t[ut],e=io(t[mt],t[Tt].map(t=>n[F][t])),o=co(t[mt],Qo);o[kn][Co]=!0,je(n,function(t){return[Ye([t,"Boss!",p[3]])]}(o));const r=fo(t[mt],er);let a=r.length;a<=0&&e.forEach(t=>{t[cn]=x[3],t[rn]=Ae});r.forEach(n=>{vo(n,o,t,rr,n[kn][Ao]),vo(n,null,t,rr,n[kn][Ao])}),r.forEach(r=>{r[wn]=s=>{switch(s[Xt]){case or:r[kn][To]-=s[En][kn][Oo]}if(r[kn][To]<=0&&(xo(r),a--),a<=0){const r=co(t[mt],tr);r[un]=1,r[rn]=Le,r[vn][0]=!0,r[vn][1]=!0,r[wn]=a=>{if(a[Xt]===Qo&&r[vn][1]&&(n[$]||je(n,oa(r,o,t),()=>{setTimeout(()=>{vo(r,o,t,sr,r[kn][Ao]),vo(r,null,t,sr,r[kn][Ao])},1e3)})),a[Xt]===or){switch(a[Xt]){case or:r[kn][To]-=a[En][kn][Oo]}r[kn][To]<=0&&(xo(r),e.forEach(t=>{t[cn]=x[3],t[rn]=Ae}),o[kn][Lo]=!0,ra(t,o))}}}}}),o[wn]=n=>{switch(n[Xt]){case er:o[kn][To]-=.1,zzfx.apply(null,Go);break;case rr:o[kn][To]-=n[En][kn][Oo],zzfx.apply(null,Go);break;case sr:o[kn][To]-=n[En][kn][Oo]}if(o[kn][To]<=0){r.forEach(t=>t[kn][$o]=!0);const n=co(t[mt],tr);n&&"johnTheBadGuy"===n[on]&&(n[kn][$o]=!0),ra(t,o)}}}(t):function(t){const n=t[ut],e=io(t[mt],t[Tt].map(t=>n[F][t])),o=co(t[mt],Qo),r=t[dt],a=co(t[mt],tr);if(a&&!r[zo])r[zo]=!0,a[wn]=o=>{o[Xt]===Qo&&(n[$]||je(n,oa(a,o,t),()=>{e.forEach(t=>{t[cn]=x[3],t[rn]=Ae})}))};else{const n=fo(t[mt],er);let r=n.length;r<=0&&e.forEach(t=>{t[cn]=x[3],t[rn]=Ae}),n.forEach(n=>{vo(n,o,t,rr)}),n.forEach(t=>{t[wn]=n=>{switch(n[Xt]){case or:t[kn][To]-=n[En][kn][Oo]}t[kn][To]<=0&&(xo(t),r--),r<=0&&e.forEach(t=>{t[cn]=x[3],t[rn]=Ae})}})}o[wn]=n=>{switch(n[Xt]){case er:o[kn][To]-=.1,zzfx.apply(null,Go);break;case rr:o[kn][To]-=n[En][kn][Oo],zzfx.apply(null,Go)}o[kn][To]<=0&&(fo(t[mt],er).forEach(t=>t[kn][$o]=!0),ra(t,o))}}(t);e.forEach(e=>{e[wn]=a=>{if(a[Xt]!==Qo)return;if(e[rn]!==Ae)return;let s,c=0,f=0;switch(e[Xt]){case jo:f=-1,s=ir;break;case Jo:c=1,s=ur;break;case Ko:f=1,s=cr;break;case No:c=-1,s=fr}a[kn][Do]=s,Wr[t[it]](t);const i=[qr,n],u=t[zt]+f,l=t[qt]+c;i[lt]=Math.floor(32*r[o]()+20),i[ht]=Math.floor(32*r[o]()+20),i[zt]=u,i[qt]=l,i[dt]=a[kn],Re(Fr,qr,`${qr}@${u}@${l}`,Hr[qr],i),zzfx.apply(null,Yo)}})}];!function(t){const n=[];n[cr]=jo,n[fr]=Jo,n[ir]=Ko,n[ur]=No,t[F]=n}(Fr),function(t){Fe(t,Ho,t=>{const n=[];return n[Xt]=Ho,n[un]=0,uo(Mo(n,t))}),Fe(t,Po,t=>{const n=[];return n[Xt]=Po,n[cn]=v[4],uo(Mo(n,t))}),Fe(t,Wo,t=>{const n=[];return n[Xt]=Wo,n[cn]=v[3],uo(Mo(n,t))}),Fe(t,Ro,t=>{const n=[];return n[Xt]=Ro,n[cn]=w[3],n[rn]=Le,uo(Mo(n,t))}),Fe(t,Vo,t=>{const n=[];return n[Xt]=Vo,n[cn]=w[1],uo(Mo(n,t))}),[jo,Jo,Ko,No].forEach(n=>{Fe(t,n,t=>{const e=[];return e[Xt]=n,e[cn]=x[3],uo(Mo(e,t))})}),Fe(t,Qo,t=>{const n=[];n[Xt]=Qo,n[on]="player",n[cn]=w[2],n[fn]=w[3],n[an]=!0,n[gn]=Ce,n[rn]=Le,n[kn]=[],n[kn][To]=10,n[kn][Bo]=10,n[kn][Oo]=1;const e=uo(Mo(n,t));return e[pn]=e[nn]/4,e}),Fe(t,Xo,t=>{const n=[];return n[Xt]=Xo,n[on]="realKing!",n[an]=!0,n[cn]=g[2],uo(Mo(n,t))}),Fe(t,tr,t=>{const n=[];n[Xt]=tr,n[on]="johnTheGoodGuy",n[an]=!0,n[cn]=x[1],n[kn]=[];const e=uo(Mo(n,t));return e[pn]=e[nn]/8,e});const n=["chupacabra","snallygaster","werewolf","hodag","dybbuk","tommy-knocker","sasquatch","nix","guytrash"];Fe(t,er,t=>{const e=[];e[Xt]=er,e[on]=n[Math.floor(n.length*r[o]())],e[an]=!0,e[cn]=p[2],e[fn]=p[3],e[kn]=[],e[kn][To]=6,e[kn][Bo]=6,e[kn][Oo]=1;const a=uo(Mo(e,t));return a[pn]=a[nn]/64,a}),Fe(t,or,t=>{const n=[];return n[Xt]=or,n[cn]=x[1],n[nn]=8,n[en]=8,n[pn]=10,n[In]=Se,uo(Mo(n,t))}),Fe(t,rr,t=>{const n=[];return n[Xt]=or,n[cn]=p[1],n[nn]=8,n[en]=8,n[pn]=8,n[In]=Se,uo(Mo(n,t))}),Fe(t,sr,t=>{const n=[];return n[Xt]=or,n[cn]=p[2],n[nn]=10,n[en]=10,n[pn]=6,n[In]=Se,uo(Mo(n,t))}),Fe(t,ar,t=>{const n=[];return n[Xt]=or,n[cn]=g[1],n[nn]=8,n[en]=8,n[pn]=10,n[In]=Ge,uo(Mo(n,t))})}(Fr),function(t,n){t[Y]=n}(Fr,function([t=5,n=5,e=cr,a=ir]=[]){const s=[];for(let e=0;e<t;e++){const t=[];s.push(t);for(let e=0;e<n;e++)t.push("")}const c=[];let f,i,u,l;switch(e){case cr:i=0,f=Math.floor(r[o]()*n);break;case ir:i=t-1,f=Math.floor(r[o]()*n);break;case ur:i=Math.floor(r[o]()*t),f=0;break;case fr:i=Math.floor(r[o]()*t),f=n-1}const h=ba(f,i,n,t);Ma(h,n,t).forEach(t=>{-1!==t&&c.push(`${h}-${t}`)});for(;c.length;){const e=c.splice(Math.floor(r[o]()*c.length),1)[0],a=parseInt(e.split("-")[0]),f=parseInt(e.split("-")[1]);Da(a,f,s)&&Ma(f,n,t).forEach(t=>{if(-1===t||t===a)return;const n=`${f}-${t}`,e=`${t}-${f}`;-1===c.indexOf(n)&&-1===c.indexOf(e)&&c.push(n)})}switch(a){case cr:l=0,u=Math.floor(r[o]()*n);break;case ir:l=t-1,u=Math.floor(r[o]()*n);break;case ur:l=Math.floor(r[o]()*t),u=0;break;case fr:l=Math.floor(r[o]()*t),u=n-1}return[t,n,s,i,f,l,u]}([8,8])),function(t){const n=[qr,t,32,32],e=t[Y];n[zt]=e[ye],n[qt]=e[ke],Re(t,qr,`${qr}@${n[zt]}@${n[qt]}`,Hr[qr],n)}(Fr),d(Fr[O],t=>{Fr[H]&&(Fr[P]||(ea||function(t){const n=t[R],e=n.createBufferSource();e.buffer=t[W],e.loop=!0,e.connect(n.destination),e.start()}(Fr),Fr[P]=!0));const n=Fr[z];let e;for(e=0;e<n.length;e++){const o=n[e];if("boolean"==typeof o?!o:!o(t))break}return e===n.length}),Fr[O][Ht]=!1;let na=!1,ea=!1;function oa(t,n,e){return t[vn][0]?t[vn][1]?(t[vn][1]=!1,[[t,"You KILL the dragon king! That never happened!!"],[n,"It was... easy."],[t,"Ok, that was not expected..."],[n,"You are welcome! Now, where are the gems? I was told to bring them back."],[t,"..."],[n,"John...?"],[t,"..."],[n,"John... John, are you ok? You don't look good."],[t,"I am sorry, my friend, but you are not going to leave here",p[3],()=>{t[on]="johnTheBadGuy",t[cn]=p[4],t[fn]=p[4],t[kn][To]=20,t[kn][Bo]=20,t[kn][Oo]=3,t[kn][Ao]=200}],[n,"What...!?"],[t,"I took the gems! I am the richest person in the world, but I must hide that from the king!"],[t,"The gems bring me everything, but I want more... I want the throne! I want to be the new king!"],[n,"That is not appropriate..."],[t,"Ha! Now that you know the truth, you are going to die with it!"]].map(Ye)):[Ye([t,"You need to find your way across the maze. I heard the gems are in the south! (SPACE key to attack)",p[3]])]:(t[vn][0]=!0,[[t,"Yes?"],[n,"I..."],[t,"Let me guess! You are looking for the gem of light?"],[n,"..."],[t,"Wait! Is it gem of ice?"],[n,"(What is that)..."],[t,"Oh, it must be gem of fire! I.. the king needs them!"],[n,"Who are you, may I ask?"],[t,"Well, I am a helper! I am also king's clostest friend."],[t,"The land of gems is no more. The monsters have taken all the gems!"],[t,"Bring back the gems to me... err, the king!"],[t,"Remember! You cannot pass the doors when mosters have taken the room!"],[t,"I have cleared this one for you. You are welcome! Now the doors are opened!",,()=>{const t=e[ut];io(e[mt],e[Tt].map(n=>t[F][n])).forEach(t=>{t[cn]=x[3],t[rn]=Ae})}],[t,"Good luck, my friend! You need to find your way across the maze. I heard the gems are in the south! (SPACE key to attack)"]].map(Ye))}function ra(t,n){Wr[t[it]](t);const e=t[ut],o=e[Y][ye],r=e[Y][ke],a=[qr,e,32,32];a[zt]=o,a[qt]=r,a[dt]=n[kn],Re(e,qr,`${qr}@${o}@${r}`,Hr[qr],a),zzfx.apply(null,Fo)}const aa=32,sa=32,ca=0,fa=0,ia=16,ua=16,la=12,[ha,da,_a]=[0,1,2];function ma(t=[]){const n=Mo([ca,fa,sa,aa,[ir],ia,ua,[]],t),e=function(t=[]){const[n,e,o,r,a,,,s]=t;return[[lr,gr],[hr,gr],[dr,gr,a],[_r,gr,a],[mr,xr],[pr,gr,a]].map(t=>{let a;switch(t[da]){case gr:a=[t[da],t[ha],n,e,o,r,1,pa(r,o,t),[],t[0]];break;case xr:a=[t[da],t[ha],n,e,o,r,1,[],s,t[0]]}return a})}(n);return[n[fe],n[ie],n[le],n[he],e]}function pa(t=aa,n=sa,e=[]){const[o,,r=[ir]]=e,a=[];for(let e=0;e<t;e++)for(let s=0;s<n;s++){const c=e*n+s;switch(o){case lr:a[c]=Po;break;case hr:a[c]=e>=2?Wo:Ho;break;case dr:a[c]=xa(e,s,t,n,r)||wa(e,s,t,n,r)||va(e,s,t,n,r)||ya(e,s,t,n,r)?Ro:Ho;break;case _r:const o=2===e&&ga(s,n),f=s===n-1&&ga(e,t),i=e===t-1&&ga(s,n),u=0===s&&ga(e,t);r.indexOf(cr)>=0&&o?a[c]=jo:r.indexOf(fr)>=0&&f?a[c]=Jo:r.indexOf(ir)>=0&&i?a[c]=Ko:r.indexOf(ur)>=0&&u?a[c]=No:a[c]=Ho;break;case pr:a[c]=xa(e,s,t,n,r,!0)||wa(e,s,t,n,r,!0)||va(e,s,t,n,r,!0)||ya(e,s,t,n,r,!0)?Vo:Ho}}return a}function ga(t,n){return t>=(n-la)/2&&t<(n+la)/2}function xa(t=0,n=0,e=aa,o=sa,r=[],a=!1){const s=a?0===t:1===t||2===t;return-1===r.indexOf(cr)?s:s&&!ga(n,o)}function wa(t=0,n=0,e=aa,o=sa,r=[],a=!1){const s=a?t===e-3:t===e-1||t===e-2;return-1===r.indexOf(ir)?s:s&&!ga(n,o)}function va(t=0,n=0,e=aa,o=sa,r=[],a=!1){const s=a?0===n&&t>=0&&t<=e-3:0===n&&t>=1;return-1===r.indexOf(ur)?s:s&&!ga(t,e)}function ya(t=0,n=0,e=aa,o=sa,r=[],a=!1){const s=a?n===o-1&&t>=0&&t<=e-3:n===o-1&&t>=1;return-1===r.indexOf(fr)?s:s&&!ga(t,e)}function ka(t="0",n="0"){return(parseInt(t,2)+parseInt(n,2)>>>0).toString(2)}function Ma(t=0,n=5,e=5){const[o,r]=Ea(t,n,e),a=[];return a.push(ba(r,o-1,n,e)),a.push(ba(r+1,o,n,e)),a.push(ba(r,o+1,n,e)),a.push(ba(r-1,o,n,e)),a}function ba(t,n,e=5,o=5){return t<0||t>=e||n<0||n>=o?-1:n*e+t}function Ea(t=0,n=5,e=5){return t<0||t>=n*e?null:[Math.floor(t/n),t%n]}function Da(t=0,n=1,e=[[],[]]){const o=e.length,r=e[0].length;if(-1===Ma(t,r,o).indexOf(n))return!1;const[a,s]=Ea(t,r,o),[c,f]=Ea(n,r,o);return(!e[a][s]||!e[c][f])&&(s+1===f&&a===c?(e[a][s]=ka(e[a][s]||"0","0100"),e[c][f]=ka(e[c][f]||"0","0001")):f+1===s&&a===c?(e[a][s]=ka(e[a][s]||"0","0001"),e[c][f]=ka(e[c][f]||"0","0100")):c+1===a&&f===s?(e[a][s]=ka(e[a][s]||"0","1000"),e[c][f]=ka(e[c][f]||"0","0010")):a+1===c&&f===s&&(e[a][s]=ka(e[a][s]||"0","0010"),e[c][f]=ka(e[c][f]||"0","1000")),!0)}}("undefined"==typeof THREE_GEM?THREE_GEM={}:THREE_GEM);